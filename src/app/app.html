<div class="cron-visualizer">
  <header class="header">
    <h1>Cron Expression Visualizer</h1>
  </header>
  
  <main class="main-content">
    <!-- Part 1: Cron Expression Evaluator -->
    <section class="cron-evaluator">
      <h2>Part 1: Cron Expression Evaluator</h2>
      
      <div class="input-section">
        <label for="cronExpression">Cron Expression</label>
        <input 
          id="cronExpression"
          type="text" 
          [(ngModel)]="cronExpression" 
          (input)="parseCronExpression()"
          placeholder="e.g., 0 */5 * * * *"
          class="cron-input"
        />
      </div>

      <div class="parsed-fields">
        <h3>Parsed Fields</h3>
        <div class="field-grid">
          <div class="field-item">
            <label>Seconds:</label>
            <span>{{ parsedFields.seconds }} {{ parsedFields.seconds ? '(active)' : '' }}</span>
          </div>
          <div class="field-item">
            <label>Minutes:</label>
            <span>{{ parsedFields.minutes }} {{ parsedFields.minutes ? '(active)' : '' }}</span>
          </div>
          <div class="field-item">
            <label>Hours:</label>
            <span>{{ parsedFields.hours }} {{ parsedFields.hours ? '(active)' : '' }}</span>
          </div>
          <div class="field-item">
            <label>Days:</label>
            <span>{{ parsedFields.days }} {{ parsedFields.days ? '(active)' : '' }}</span>
          </div>
          <div class="field-item">
            <label>Month:</label>
            <span>{{ parsedFields.month }} {{ parsedFields.month ? '(active)' : '' }}</span>
          </div>
          <div class="field-item">
            <label>Day of Week:</label>
            <span>{{ parsedFields.dayOfWeek }} {{ parsedFields.dayOfWeek ? '(active)' : '' }}</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Part 2: Recurrence Pattern Generator -->
    <section class="recurrence-generator">
      <h2>Part 2: Recurrence Pattern Generator</h2>
      
      <div class="form-section">
        <div class="form-group">
          <label for="recurrencePattern">Recurrence Pattern</label>
          <select 
            id="recurrencePattern"
            [(ngModel)]="selectedPattern" 
            (change)="onPatternChange()"
            class="pattern-select"
          >
            <option value="Daily">Daily</option>
            <option value="Weekly">Weekly</option>
            <option value="Monthly">Monthly</option>
          </select>
        </div>

        <!-- Daily Options -->
        <div *ngIf="selectedPattern === 'Daily'" class="pattern-options">
          <div class="form-group">
            <label for="dailyTime">Time</label>
            <input 
              id="dailyTime"
              type="time" 
              [(ngModel)]="dailyTime"
              (change)="generateDescription()"
              class="time-input"
            />
          </div>
        </div>

        <!-- Weekly Options -->
        <div *ngIf="selectedPattern === 'Weekly'" class="pattern-options">
          <div class="form-group">
            <label for="weeklyTime">Time</label>
            <input 
              id="weeklyTime"
              type="time" 
              [(ngModel)]="weeklyTime"
              (change)="generateDescription()"
              class="time-input"
            />
          </div>
          
          <div class="form-group">
            <label>Days of Week</label>
            <div class="checkbox-group">
              <label *ngFor="let day of daysOfWeek" class="checkbox-label">
                <input 
                  type="checkbox" 
                  [(ngModel)]="day.selected"
                  (change)="generateDescription()"
                />
                {{ day.name }}
              </label>
            </div>
          </div>
        </div>

        <!-- Monthly Options -->
        <div *ngIf="selectedPattern === 'Monthly'" class="pattern-options">
          <div class="form-group">
            <label for="monthlyTime">Time</label>
            <input 
              id="monthlyTime"
              type="time" 
              [(ngModel)]="monthlyTime"
              (change)="generateDescription()"
              class="time-input"
            />
          </div>
          
          <div class="form-group">
            <label for="dayOfMonth">Day of Month</label>
            <select 
              id="dayOfMonth"
              [(ngModel)]="selectedDayOfMonth"
              (change)="generateDescription()"
              class="day-select"
            >
              <option *ngFor="let day of daysOfMonth" [value]="day">{{ day }}</option>
            </select>
          </div>
        </div>

        <div class="description-section">
          <h3>Generated Description:</h3>
          <p class="description-text">{{ generatedDescription }}</p>
        </div>
      </div>
    </section>
  </main>
</div>
